# ðŸ”® HEXBLOOP - CLAUDE DEVELOPMENT CONTEXT

## Project Overview
**Hexbloop** is a mystical audio processing application that transforms audio files using lunar influences and hexagonal sacred geometry. Originally built in Swift, this Electron version preserves all mystical functionality while breaking free from Apple's sandboxing restrictions.

## Current Architecture

### Frontend (Mystical Interface)
- **Hexagonal Construct**: Three-layer breathing hexagon with pentagram center
- **Cosmic Receipt Flow**: Satisfying file drop experience with anticipation pauses
- **Hexagonal Communication**: Dynamic phrase generation through geometric vertex system
- **Vintage Film Aesthetic**: VHS-style vignette with brown burn edges
- **Biological Rhythms**: Processing glow synced to ~70 BPM heartbeat

### Backend (Chaos Magic Engine)
- **Audio Pipeline**: sox â†’ ffmpeg processing chain
- **Lunar Influence**: Moon phase affects processing parameters
- **Mystical Naming**: Hexagonal word generation system
- **Batch Processing**: Drag-and-drop with real-time progress

## Key Design Principles

### 80/20 Philosophy
- Maximum mystical impact with minimal complexity
- No overengineering or unnecessary features
- Focus on feeling over functionality

### Mystical Construct Energy
- Hexagon is inscrutable, otherworldly entity
- Never anthropomorphized (doesn't "bow" or act human)
- Speaks through geometric chance, not templates
- Sacred geometry drives all interactions

### Organic Mysticism
- More **MÃ¶rk Borg meets Studio Ghibli** than new-age crystals
- Warm, ancient, self-aware but incomprehensible
- Technical mysticism over fairy-crystal vibes

## File Structure
```
hexbloop-electron/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ renderer/           # Frontend mystical interface
â”‚   â”‚   â”œâ”€â”€ app.js         # Main UI controller with hexagonal communication
â”‚   â”‚   â”œâ”€â”€ style.css      # Mystical styling with vintage effects
â”‚   â”‚   â””â”€â”€ index.html     # Sacred geometry structure
â”‚   â”œâ”€â”€ audio-processor.js  # Lunar-influenced audio pipeline
â”‚   â”œâ”€â”€ lunar-processor.js  # Moon phase calculations
â”‚   â”œâ”€â”€ name-generator.js   # Mystical file naming
â”‚   â”œâ”€â”€ artwork-generator.js # Album art creation
â”‚   â””â”€â”€ metadata-embedder.js # MP3 metadata embedding
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ ambient_loop.mp3   # User's own mystical background music
â”œâ”€â”€ main.js                # Electron main process
â”œâ”€â”€ preload.js            # Security bridge
â””â”€â”€ package.json          # Chaos magic dependencies
```

## Development Notes

### Hexagonal Communication System
The randomization formula IS hexagonal - uses 6-vertex word pools with geometric movement patterns:
- Vertex 1: Actions (weaving, flowing, merging...)
- Vertex 2: Subjects (frequencies, patterns, echoes...)
- Vertex 3-6: Contextual mystical language

Phrases generated through time-seeded vertex selection with clockwise/diamond movement patterns.

### Cosmic Receipt Flow
File dropping triggers ceremonial sequence:
1. **Anticipation pause** (250ms scale + brightness)
2. **Staggered layer awakening** (0s â†’ 0.05s â†’ 0.1s delays)
3. **Heartbeat processing** (0.86s rhythm matching human biology)
4. **Progressive pentagram ceremony** (8s â†’ accelerates â†’ 6s satisfied)
5. **Completion pause** (400ms savoring moment)

### Audio Processing
- **Input**: Multiple formats via drag-drop or file dialog
- **Processing**: Lunar-influenced sox parameters â†’ ffmpeg MP3 output
- **Output**: Mystically named MP3s with embedded artwork
- **UI Feedback**: Real-time hexagonal phrase updates during processing

## Color Palette
- **Primary**: Mystical purples (159,121,234), (88,86,214)
- **Secondary**: Pink/orange gradients (255,45,85), (255,149,0)
- **Accents**: White highlights for success/completion
- **Never**: Golden colors (user explicitly dislikes)

## Testing Notes
- Use `npm start` to launch
- Test drag-drop with various audio formats
- Ambient audio requires user interaction on first play
- Success animations should feel ceremonial, not rushed

## Future Considerations
- Keep Swift version safe in `/hexbloop_stuff/`
- Maintain `feature/coverart-enhancements` branch
- Always prioritize mystical feeling over technical complexity
- 80/20 approach: maximum magic, minimal engineering

---
*"The hexagon speaks through chance organically" - Core philosophy*